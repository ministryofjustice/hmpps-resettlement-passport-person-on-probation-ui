{%- from "moj/components/sub-navigation/macro.njk" import mojSubNavigation -%}

<aside role="complementary">
  {% include "./phasebanner.njk" %}
  {% block aside %}
  {% endblock %}
</aside>

<span class="govuk-visually-hidden" id="{{ pageId }}"></span>

{{
  mojSubNavigation({
    label: t('subnav-label'),
    items: [{
      text: t('subnav-home'),
      href: '/overview' + appendLanguage(queryParams),
      active: activePage == 'overview',
      attributes: {'data-qa': 'home-nav-link', 'track-tag-id': "navBarHomeLink", "track-event-name": "NavBarClick"}
    }, {
      text: t('subnav-appointments'),
      href: '/appointments' + appendLanguage(queryParams),
      active: activePage == 'appointments',
      attributes: {'data-qa': 'appointments-nav-link', 'track-tag-id': "navBarAppointmentsLink", "track-event-name": "NavBarClick"},
      classes: hiddenClassOnFlag('viewAppointmentsEndUser', flags)
    }, {
      text: t('subnav-licence-conditions'),
      href: '/licence-conditions' + appendLanguage(queryParams),
      active: activePage == 'licence-conditions',
      attributes: {'data-qa': 'licence-conditions-nav-link', 'track-tag-id': "navBarLicenceLink", "track-event-name": "NavBarClick"}
    }, {
      text: t('subnav-todo'),
      href: '/todo' + appendLanguage(queryParams),
      active: activePage == 'todo',
      attributes: {'data-qa': 'todo-nav-link', 'track-tag-id': "navBarTodoLink", "track-event-name": "NavBarClick"},
      classes: hiddenClassOnFlag('todoList', flags)
    }, {
      text: t('subnav-documents'),
      href: '/documents' + appendLanguage(queryParams),
      active: activePage == 'documents',
      attributes: {'data-qa': 'documents-nav-link', 'track-tag-id': "navBarDocumentsLink", "track-event-name": "NavBarClick"},
      classes: hiddenClassOnFlag('viewDocuments', flags)
    }, {
      text: t('subnav-profile'),
      href: '/profile' + appendLanguage(queryParams),
      active: activePage == 'profile',
      attributes: {'data-qa': 'profile-nav-link', 'track-tag-id': "navBarProfileLink", "track-event-name": "NavBarClick"}
    }, {
      text: t('subnav-settings'),
      href: '/settings' + appendLanguage(queryParams),
      active: activePage == 'settings',
      attributes: {'data-qa': 'settings-nav-link', 'track-tag-id': "navBarSettingsLink", "track-event-name": "NavBarClick"}
    }, {
      text: t('subnav-signout'),
      href: '/sign-out' + appendLanguage(queryParams),
      attributes: {'data-qa': "signOut", 'track-tag-id': "navBarSignoutLink", "track-event-name": "UserSignOut"}
    }]
  })
}}
